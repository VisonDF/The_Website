{% extends "base.html" %}

{% block title %}
Edit family â€” {{ family.display_name }} | Admin
{% endblock %}

{% block content %}
<main class="admin-page">

<header class="admin-header">
  <h1>Edit function family</h1>
  <p>
    Family ID: {{ family.id }}<br>
    Created at: {{ family.created_at.strftime("%Y-%m-%d") }}
  </p>
</header>

<form method="post" class="admin-form admin-form-wide">

  <!-- =========================
       Identity
       ========================= -->
  <fieldset class="form-section">
    <legend>Identity</legend>

    <div class="form-group">
      <label>Slug</label>
      <input
        name="slug"
        value="{{ family.slug }}"
        required
      >
      <small class="form-hint">
        Used in URLs and internal references. Must be unique.
      </small>
    </div>

    <div class="form-group">
      <label>Display name</label>
      <input
        name="display_name"
        value="{{ family.display_name }}"
        required
      >
    </div>
  </fieldset>

  <!-- =========================
       Description
       ========================= -->
  <fieldset class="form-section">
    <legend>Description</legend>

    <div class="form-group">
      <label>Description (HTML)</label>
      <textarea
        name="description"
        class="code-textarea code-textarea-large"
        rows="6"
      >{{ family.description or "" }}</textarea>

      <small class="form-hint">
        Shown on documentation and taxonomy pages.
      </small>
    </div>
  </fieldset>

  <!-- =========================
       Actions
       ========================= -->
  <div class="admin-actions admin-actions-spread">

    <div>
      <button type="submit" class="btn-primary">
        Save changes
      </button>

      <a
        href="{{ url_for('admin.show_function_family') }}"
        class="btn-link"
      >
        Cancel
      </a>
    </div>

    <!-- Destructive action -->
    <form
      method="post"
      action="{{ url_for('admin.delete_function_family', family_id=family.id) }}"
      onsubmit="return confirm('Delete this family?\n\nThis cannot be undone.');"
    >
      <button type="submit" class="btn-danger">
        Delete family
      </button>
    </form>

  </div>

</form>
</main>
{% endblock %}





