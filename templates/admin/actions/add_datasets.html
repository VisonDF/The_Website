{% extends "base.html" %}

{% block title %}
Datasets | Admin
{% endblock %}

{% block content %}
<main class="admin-page">

  <header class="admin-header">
    <h1>Datasets</h1>
    <p>Manage datasets used in benchmarks.</p>
  </header>

<section class="container">

  <form
    method="post"
    enctype="multipart/form-data"
    class="admin-form admin-form-wide"
  >

    <!-- =========================
         Dataset identity
         ========================= -->
    <fieldset class="form-section">
      <legend>Dataset identity</legend>

      <div class="form-row">
        <div class="form-group">
          <label>Name</label>
          <input
            type="text"
            name="name"
            placeholder="e.g. TPC-H"
            required
          >
        </div>

        <div class="form-group">
          <label>Version</label>
          <input
            type="text"
            name="version"
            placeholder="e.g. SF10"
            required
          >
        </div>
      </div>
    </fieldset>

    <!-- =========================
         Description
         ========================= -->
    <fieldset class="form-section">
      <legend>Description</legend>

      <div class="form-group">
        <label>
          Description (HTML)
          <button
            type="button"
            class="preview-toggle"
            onclick="togglePreview()"
          >
            Preview
          </button>
        </label>

        <div class="editor-preview-wrapper">

          <textarea
            id="description-editor"
            name="description"
            class="code-textarea code-textarea-medium"
            placeholder="<p>Describe the dataset, schema, scale, and originâ€¦</p>"
            oninput="updatePreview()"
          ></textarea>

          <div
            id="description-preview"
            class="html-preview"
            hidden
          ></div>

        </div>

        <small class="form-hint">
          This description is rendered verbatim on benchmark pages.
        </small>
      </div>
    </fieldset>

    <!-- =========================
         Dataset file
         ========================= -->
<fieldset class="form-section">
  <legend>Dataset file</legend>

  <div class="form-group">

    <label>Upload file</label>

    <div class="file-input-wrapper">
      <input
        type="file"
        id="dataset-file"
        name="file"
        class="file-input"
        required
        onchange="updateFileName(this)"
      >

      <label for="dataset-file" class="file-input-button">
        Choose file
      </label>

      <span
        id="dataset-file-name"
        class="file-input-name"
      >
        No file selected
      </span>
    </div>

    <small class="form-hint">
      The file will be stored under <code>/static/datasets</code>.
    </small>

  </div>
</fieldset>
    <!-- =========================
         Actions
         ========================= -->
    <div class="admin-actions admin-actions-sticky">
      <button type="submit" class="btn-primary">
        Add dataset
      </button>

      <a href="{{ url_for('admin.dashboard') }}" class="btn-link">
        Cancel
      </a>
    </div>

  </form>

</section>
</main>
{% endblock %}



